<%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
  <%= link_to "Forgot your password?", new_password_path(resource_name) %><br />
<% end %>

<%- if devise_mapping.confirmable? && controller_name != 'confirmations' %>
  <%= link_to "Didn't receive confirmation instructions?", new_confirmation_path(resource_name) %><br />
<% end %>

<%- if devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
  <%= link_to "Didn't receive unlock instructions?", new_unlock_path(resource_name) %><br />
<% end %>

<%- if devise_mapping.omniauthable? %>
  <%- resource_class.omniauth_providers.each do |provider| %>
    <%= link_to "Sign in with #{OmniAuth::Utils.camelize(provider)}", omniauth_authorize_path(resource_name, provider), method: :post %><br />
  <% end %>
<% end %>


<%= render "devise/shared/links" %>



  <% if devise_mapping.rememberable? %>
    <div class="field">
      <%= f.check_box :remember_me %>
      <%= f.label :remember_me %>
    </div>
  <% end %>



/* global $*/
$(function() {
  $(document).on('click', '[data-link-to-remove-field]', function(e) {
    var $field, target;
    e.preventDefault();
    $(this).prev('input[type=hidden]').val('1');
    target = $(this).data('link-to-remove-field');
    $field = $(this).closest(target);
    return $field.hide();
  });

  $(document).on('click', '[data-link-to-add-field]', function(e) {
    var fields_html, regexp, time;
    e.preventDefault();
    time = new Date().getTime();
    regexp = new RegExp($(this).data('link-to-add-field-id'), 'g');
    fields_html = $(this).data('link-to-add-field').replace(regexp, time);
    return $(this).before(fields_html);
  });

}).call(this);


<%= form_tag({action: 'search', method: "get"}) do %>
  <%= text_field_tag :search %>
  <%= f.button type: "submit", class:"search-btn" do %>
    <i class="fas fa-search"></i>
  <% end %>
<% end %>

    add_reference :foodstuffs, :recipe, null: false, foreign_key: true
    add_reference :foodstuffs, :nutrition, null: false, foreign_key: true

     <% elsif @recipe.movie.attached? %>
      <video src = "<%= rails_blob_path(@recipe.movie), size:'400x300' %>" type = "video/mp4" controls></video>

<!--栄養素の計算表示-->
  <div class ="nutrition-field">
    <p>カロリー：<%= @recipe.calculate(:calolie) %></p>
    <p>たんぱく質：<%= @recipe.calculate(:protein) %></p>
    <p>脂質：<%= @recipe.calculate(:lipid) %></p>
    <p>炭水化物：<%= @recipe.calculate(:carbohydrate) %></p>
    <p>塩分：<%= @recipe.calculate(:salt) %></p>
  </div>
</div>



  # exceptでindex以外のページに適応させる
  before_action :set_user, except: [:index]
